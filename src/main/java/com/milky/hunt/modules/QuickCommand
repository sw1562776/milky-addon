package com.milky.hunt.modules;

import com.milky.hunt.Addon;
import meteordevelopment.meteorclient.events.world.TickEvent;
import meteordevelopment.meteorclient.systems.modules.Module;
import meteordevelopment.orbit.EventHandler;

public class QuickCommand extends Module {
    private static final String COMMAND = "#stop";

    private boolean hasSent = false;

    public QuickCommand() {
        super(Addon.CATEGORY, "quick-command", "Sends a fixed command instantly when toggled.");
    }

    @EventHandler
    private void onTick(TickEvent.Post event) {
        if (mc.player == null || mc.world == null) return;

        if (!hasSent) {
            mc.player.sendChatMessage(COMMAND);
            hasSent = true;
            toggle();
        }
    }

    @Override
    public void onActivate() {
        hasSent = false;
    }
}
